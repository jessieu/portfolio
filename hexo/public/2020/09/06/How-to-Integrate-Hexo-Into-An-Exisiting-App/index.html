<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>How to Integrate Hexo Into An Exisiting App | Weilan&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="tech" />
  
  
  
  
  <meta name="description" content="This is my first post. I spent a day on figuring out how to add a blog module into my portfolio and deploy it to heroku. And ta da, I did it as you are reading this post.">
<meta property="og:type" content="article">
<meta property="og:title" content="How to Integrate Hexo Into An Exisiting App">
<meta property="og:url" content="https://weilanyu.herokuapp.com/blog/2020/09/06/How-to-Integrate-Hexo-Into-An-Exisiting-App/index.html">
<meta property="og:site_name" content="Weilan&#39;s Blog">
<meta property="og:description" content="This is my first post. I spent a day on figuring out how to add a blog module into my portfolio and deploy it to heroku. And ta da, I did it as you are reading this post.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2020/09/07/GWQ93pv2TXgOPHB.png">
<meta property="og:image" content="https://i.loli.net/2020/09/07/cAGhYLl5pCzT3BV.png">
<meta property="article:published_time" content="2020-09-07T01:03:10.000Z">
<meta property="article:modified_time" content="2020-09-07T02:09:56.013Z">
<meta property="article:author" content="Weilan Yu">
<meta property="article:tag" content="tech">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/09/07/GWQ93pv2TXgOPHB.png">
  
    <link rel="alternate" href="/atom.xml" title="Weilan&#39;s Blog" type="application/atom+xml">
  
  <link rel="icon" href="/blog/css/images/favicon.ico">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/blog/css/style.css">


  
<script src="/blog/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/blog/css/bootstrap.css" >
  <link rel="stylesheet" href="/blog/css/fashion.css" >
  <link rel="stylesheet" href="/blog/css/glyphs.css" >

<meta name="generator" content="Hexo 5.1.1"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/blog/" title="Weilan&#39;s Blog" rel="home"> Weilan&#39;s Blog </a>
            
          </h1>
          
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/blog/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-How-to-Integrate-Hexo-Into-An-Exisiting-App" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      How to Integrate Hexo Into An Exisiting App
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/blog/2020/09/06/How-to-Integrate-Hexo-Into-An-Exisiting-App/" class="article-date">
	  <time datetime="2020-09-07T01:03:10.000Z" itemprop="datePublished">September 6, 2020</time>
	</a>

       
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://i.loli.net/2020/09/07/GWQ93pv2TXgOPHB.png"></p>
<p>This is my first post. I spent a day on figuring out how to add a blog module into my portfolio and deploy it to heroku. And ta da, I did it as you are reading this post. </p>
<a id="more"></a>

<p><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> is an open-source framework built upon <code>nodejs</code>, and it has lots of <a target="_blank" rel="noopener" href="https://hexo.io/themes">themes</a> avaiable to download. I found a bunch of tutorial on how to deploy it to GitHub, but rarely found one to teach you how to work with your current application. In this post, I am going to show you how to add Hexo into your nodejs app, change a theme, and deploy it to heroku.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><p>I don’t want to overload my nodejs app’s <code>public</code> folder, so I create a new folder called <code>hexo</code> underneath the root of my application. Look like this</p>
<img src="https://i.loli.net/2020/09/07/cAGhYLl5pCzT3BV.png" style="zoom:50%;" />



<p>Install Hexo in the newly created folder <code>hexo</code> by running the command</p>
<pre><code class="bash">$ npm install -g hexo-cli</code></pre>
<h2 id="Configure-Routes"><a href="#Configure-Routes" class="headerlink" title="Configure Routes"></a>Configure Routes</h2><p> Inside <code>app.js</code>, add the following</p>
<pre><code class="javascript">app.use(&#39;/blog&#39;, express.static(path.join(__dirname, &#39;hexo/public&#39;)));</code></pre>
<blockquote>
<p>The path that you provide to the express.static function is relative to the directory from where you launch your node process. If you run the express app from another directory, it’s safer to use the absolute path of the directory that you want to serve.</p>
</blockquote>
<p>By adding this line, I am telling the express app that uses resources in <code>hexo/public</code> to satisfy the requests whenever the route is <code>/blog</code>. And other routes will continue using the static files from <code>/public</code>.</p>
<h2 id="Run-the-Blog"><a href="#Run-the-Blog" class="headerlink" title="Run the Blog"></a>Run the Blog</h2><p>Create a <code>public</code> folder for the first time running. Render the markdown file in <code>source/_post</code> into html and copy them to <code>public</code>. It would simply copy the original file to <code>public</code> if it’s other format. </p>
<pre><code class="bash">$ hexo g</code></pre>
<p>Run the application</p>
<pre><code class="bash">$ npm start</code></pre>
<p>To serialize two commands, change the <code>start</code> command in <code>package.json</code> from</p>
<pre><code class="json">&quot;scripts&quot;: &#123;
    &quot;start&quot;: &quot;node ./bin/www&quot;
  &#125;</code></pre>
<p>To</p>
<pre><code class="json">&quot;scripts&quot;: &#123;
    &quot;start&quot;: &quot;(cd hexo &amp;&amp; hexo generate) &amp; node ./bin/www&quot;
  &#125;</code></pre>
<h2 id="Change-Theme"><a href="#Change-Theme" class="headerlink" title="Change Theme"></a>Change Theme</h2><p>The Hexo’s default theme is <code>landscape</code>. It’s clean and simple, but not my style. I love exploring new stuffes and immerse myself into beautiful design. </p>
<ol>
<li><p>Just find your favorite theme, and add it as subproject in <code>hexo/themes</code> by running</p>
<pre><code class="bash">$ git submodule add theme-url-in-github</code></pre>
<p>The theme will be cloned to current directory. To read more about <code>submodule</code>, please refers to the documentation  <a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">Git Tools - Submodules</a></p>
</li>
<li><p>Change the theme. Go to <code>/hexo/_config.yaml</code>, change the theme to package name in your themes folder. </p>
</li>
<li><p>You can customize the theme. The documentation for each theme maintained by the author is well-written and will give you guidance. </p>
</li>
<li><p>Local deployment should work.</p>
</li>
</ol>
<h2 id="Deploy-to-Heroku"><a href="#Deploy-to-Heroku" class="headerlink" title="Deploy to Heroku"></a>Deploy to Heroku</h2><ol>
<li>Generate the static files in <code>hexo</code> first. This step is really important. Otherwise, <code>hexo/public</code> is not able to locate.</li>
<li>Remove <code>public</code> in <code>.gitigonre</code> to allow <code>public</code> folder being pushed to GitHub </li>
<li>Push to GitHub. Done!</li>
</ol>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/tech/" rel="tag">tech</a></li></ul>

      
        
	<div id="comment">
	
	<!-- 多说评论框 start -->
	 <div class="ds-thread" data-thread-key="/blog/2020/09/06/How-to-Integrate-Hexo-Into-An-Exisiting-App/" data-title="How to Integrate Hexo Into An Exisiting App" data-url="https://weilanyu.herokuapp.com/blog/2020/09/06/How-to-Integrate-Hexo-Into-An-Exisiting-App/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"weilan"};
	  (function() {
	    var ds = document.createElement('script');
	    ds.type = 'text/javascript';ds.async = true;
	    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	    ds.charset = 'UTF-8';
	    (document.getElementsByTagName('head')[0] 
	     || document.getElementsByTagName('body')[0]).appendChild(ds);
	  })();
	  </script>
	<!-- 多说公共JS代码 end -->
	
	</div>
	
<link rel="stylesheet" href="/blog/css/comment.css">



      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/blog/2020/09/06/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Quick-Start"><span class="nav-number">1.</span> <span class="nav-text">Quick Start</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Configure-Routes"><span class="nav-number">2.</span> <span class="nav-text">Configure Routes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Run-the-Blog"><span class="nav-number">3.</span> <span class="nav-text">Run the Blog</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Change-Theme"><span class="nav-number">4.</span> <span class="nav-text">Change Theme</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deploy-to-Heroku"><span class="nav-number">5.</span> <span class="nav-text">Deploy to Heroku</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/blog/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/blog/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/blog/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 Weilan Yu All Rights Reserved.
        
            <span id="busuanzi_container_site_uv">
              本站访客数<span id="busuanzi_value_site_uv"></span>人次  
              本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>


<script src="/blog/js/bootstrap.js"></script>


<script src="/blog/js/main.js"></script>








  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
